# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ ChatGPT Telegram –ë–æ—Ç–∞

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Docker –∏ Docker Compose** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ
2. **Telegram Bot Token** - –ø–æ–ª—É—á–∏—Ç–µ —É [@BotFather](https://t.me/BotFather)
3. **OpenAI API Key** - –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ [platform.openai.com](https://platform.openai.com/api-keys)

## –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd chatgpt_telegram_bot-main
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
cp config/config.example.yml config/config.yml
cp config/config.example.env config/config.env
```

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ config/config.yml:
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `config/config.yml` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

```yaml
# –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞
telegram_token: "YOUR_TELEGRAM_BOT_TOKEN"

# –ö–ª—é—á API OpenAI
openai_api_key: "YOUR_OPENAI_API_KEY"

# –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ config/config.env (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MongoDB –∏–ª–∏ Mongo Express:

```env
# –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è MongoDB
MONGODB_PATH=./mongodb

# –ü–æ—Ä—Ç MongoDB
MONGODB_PORT=27017

# –ü–æ—Ä—Ç Mongo Express (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è MongoDB)
MONGO_EXPRESS_PORT=8081

# –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è Mongo Express
MONGO_EXPRESS_USERNAME=admin
MONGO_EXPRESS_PASSWORD=your_secure_password
```

### 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

#### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:
```bash
docker-compose --env-file config/config.env up --build
```

#### –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏:
```bash
docker-compose --env-file config/config.env up
```

#### –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:
```bash
docker-compose --env-file config/config.env up -d
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –ø–æ –∏–º–µ–Ω–∏
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/new` - –ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥
- `/mode` - –í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º —á–∞—Ç–∞
- `/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏
- `/balance` - –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `/retry` - –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç
- `/cancel` - –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é

### –†–µ–∂–∏–º—ã —á–∞—Ç–∞:
- üë©üèº‚Äçüéì **–û–±—â–∏–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç** - –¥–ª—è –æ–±—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- üë©üèº‚Äçüíª **–ü–æ–º–æ—â–Ω–∏–∫ –ø–æ –∫–æ–¥—É** - –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- üë©‚Äçüé® **–•—É–¥–æ–∂–Ω–∏–∫** - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üá¨üáß **–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –†–µ–ø–µ—Ç–∏—Ç–æ—Ä** - –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ
- üí° **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ò–¥–µ–π –°—Ç–∞—Ä—Ç–∞–ø–æ–≤** - –¥–ª—è –±–∏–∑–Ω–µ—Å-–∏–¥–µ–π
- üìù **–£–ª—É—á—à–∏—Ç–µ–ª—å –¢–µ–∫—Å—Ç–∞** - –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤
- üß† **–ü—Å–∏—Ö–æ–ª–æ–≥** - –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- üöÄ **–ò–ª–æ–Ω –ú–∞—Å–∫** - –¥–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –≤ —Å—Ç–∏–ª–µ –ò–ª–æ–Ω–∞ –ú–∞—Å–∫–∞
- üåü **–ú–æ—Ç–∏–≤–∞—Ç–æ—Ä** - –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏
- üí∞ **–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –î–µ–Ω–µ–≥** - –¥–ª—è –±–∏–∑–Ω–µ—Å-—Å–æ–≤–µ—Ç–æ–≤
- üìä **SQL –ü–æ–º–æ—â–Ω–∏–∫** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- üß≥ **–ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å** - –¥–ª—è —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–≤–µ—Ç–æ–≤
- ü•í **–†–∏–∫ –°–∞–Ω—á–µ–∑** - –¥–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –≤ —Å—Ç–∏–ª–µ –†–∏–∫–∞ –∏ –ú–æ—Ä—Ç–∏
- üßÆ **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä** - –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- üé¨ **–≠–∫—Å–ø–µ—Ä—Ç –ø–æ –§–∏–ª—å–º–∞–º** - –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Ñ–∏–ª—å–º–æ–≤

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
docker-compose logs -f chatgpt_telegram_bot
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞:
```bash
docker-compose down
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞:
```bash
docker-compose restart chatgpt_telegram_bot
```

### –î–æ—Å—Ç—É–ø –∫ MongoDB —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
–ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Mongo Express, –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:8081
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞:
–í —Ñ–∞–π–ª–µ `config/config.yml` –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É:

```yaml
allowed_telegram_usernames: 
  - "your_username"
  - 123456789  # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - -987654321  # ID –≥—Ä—É–ø–ø—ã (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)
```

### –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–π:
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `config/config.env`.

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ Telegram –±–æ—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ OpenAI API –∫–ª—é—á –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs chatgpt_telegram_bot`

### –û—à–∏–±–∫–∏ Docker:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã: `docker-compose build --no-cache`

### –ü—Ä–æ–±–ª–µ–º—ã —Å API:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ OpenAI
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∫–ª—é—á –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã API

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞

```bash
git pull
docker-compose --env-file config/config.env up --build -d
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å OpenAI API
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã 